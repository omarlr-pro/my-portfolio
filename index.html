<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omar Laraje | Data Scientist & BI Engineer</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Custom Cursor -->
    <div class="custom-cursor" id="customCursor"></div>
    
    <!-- Background Animation -->
    <div class="bg-animation" id="bgAnimation"></div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTop" class="scroll-to-top" aria-label="Scroll to top">
        â†‘
    </button>

    <!-- Sections loaded dynamically -->
    <div id="nav-section"></div>
    <div id="hero-section"></div>
    <div id="about-section"></div>
    <div id="skills-section"></div>
    <div id="projects-section"></div>
    <div id="experience-section"></div>
    <div id="education-section"></div>
    <div id="certifications-section"></div>
    <div id="contact-section"></div>
    <div id="footer-section"></div>

    <script>
        // Load a section into a target div
        async function loadSection(elementId, filePath) {
            try {
                const response = await fetch(filePath);
                const html = await response.text();
                document.getElementById(elementId).innerHTML = html;
            } catch (error) {
                console.error(`Error loading ${filePath}:`, error);
            }
        }

        // When DOM is ready, load all sections first,
        // then load script.js AFTER sections exist.
        document.addEventListener('DOMContentLoaded', async () => {
            // Load translations.js first
            const translationsScript = document.createElement('script');
            translationsScript.src = './translations.js';
            
            translationsScript.onload = async () => {
                // Load all sections
                await loadSection('nav-section', 'sections/nav.html');
                await loadSection('hero-section', 'sections/hero.html');
                await loadSection('about-section', 'sections/about.html');
                await loadSection('skills-section', 'sections/skills.html');
                await loadSection('projects-section', 'sections/projects_dynamic.html');
                await loadSection('experience-section', 'sections/experience.html');
                await loadSection('education-section', 'sections/education_dynamic.html');
                await loadSection('certifications-section', 'sections/certifications.html');
                await loadSection('contact-section', 'sections/contact.html');
                await loadSection('footer-section', 'sections/footer.html');

                // Dispatch event that sections are loaded
                document.dispatchEvent(new CustomEvent('sectionsLoaded'));

                // Now load script.js AFTER sections are ready
                const script = document.createElement('script');
                script.src = './script.js';
                script.defer = true;
                document.body.appendChild(script);
            };
            
            document.body.appendChild(translationsScript);
        });
    </script>
</body>

</html>